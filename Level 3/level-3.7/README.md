# L3.7

## WarehouseControl — CRUD склада с историей и ролями
- Любой склад — это не просто список товаров. Это движущаяся система, где кто-то добавляет, кто-то списывает, кто-то правит остатки, и важно понимать кто, что, когда и зачем сделал. Кроме того, не все сотрудники должны иметь одинаковые права: кладовщик может редактировать, менеджер — только смотреть, а аудитор — видеть историю.

- В этом задании вы создадите мини-систему для учёта товаров на складе: с базовыми CRUD-операциями, логированием всех изменений и ролевой моделью доступа. Это типичный пример корпоративного backend-сервиса, каких много в логистике, производстве и торговле.

- Но его реализация намерено должны быть сделана на антипаттерне - триггерах внутри СУБД. Это нужно чтобы вы поняли что это такое и больше никогда не предлагали их делать в реальных проектах.

### Требования
1) Cервис должен поддерживать:

- CRUD-операции инвентаря;
    – POST /items
    – GET /items
    – PUT /items/{id}
    – DELETE /items/{id}

- историю изменений данных (кто, когда, что изменил);
- роли пользователей. Например: admin — полный доступ; manager — может смотреть и редактировать; viewer — только просмотр;
- разграничение прав доступа по ролям;
- для сохранения истории используйте механизм триггеров в базе (например, `PostgreSQL`);
- авторизацию через `JWT`: роль должна передаваться в токене и проверяться при каждом запросе;

2) Добавьте простой интерфейс, где можно:
    - войти от имени пользователя с определённой ролью (через `выпадающий` список, например);
    - просматривать список товаров;
    - `редактировать/удалять/добавлять` товар (если есть права);
    - `просматривать` историю изменений по каждому товару в таблице.



3) Дополнительно (будет плюсом):

    - возможность просмотра отличий между версиями товара
    - поиск и фильтрация истории изменений по дате, пользователю, действию;
    - экспорт истории в `CSV` (руководители балдеют с этой прикормки).
