# L2.10

## Утилита sort

Реализация упрощённого аналога UNIX-утилиты sort для сортировки строк.

### Описание

Программа читает строки из файла или STDIN и выводит их отсортированными согласно указанным флагам.

### Обязательные флаги

- **-k N** — сортировать по столбцу (колонке) №N (разделитель — табуляция по умолчанию)
  - Пример: `sort -k 2` отсортирует строки по второму столбцу каждой строки
- **-n** — сортировать по числовому значению (строки интерпретируются как числа)
- **-r** — сортировать в обратном порядке (reverse)
- **-u** — не выводить повторяющиеся строки (только уникальные)

### Дополнительные флаги

- **-M** — сортировать по названию месяца (Jan, Feb, ... Dec)
- **-b** — игнорировать хвостовые пробелы (trailing blanks)
- **-c** — проверить, отсортированы ли данные; если нет, вывести сообщение об этом
- **-h** — сортировать по числовому значению с учётом суффиксов (К = килобайт, М = мегабайт)

### План реализации:
- Реализовать основную структуру программы
- Реализовать дополнительные флаги
- Реализовать чтение из файла или STDIN
- Реализовать комбинации флагов (например -nr)
- Обеспечить эффективную обработку больших файлов
- Создать unit-тесты для всех функций сортировки
- Создать README.md с описанием утилиты и примерами использования
- Проверить код статическими анализаторами (go vet, golint)
- Протестировать с различными входными данными

### Использование

```bash
# Базовая сортировка из STDIN
echo -e "c\na\nb" | go run main.go

# Сортировка файла
go run main.go filename.txt

# Числовая сортировка в обратном порядке
echo -e "10\n2\n1" | go run main.go -n -r

# Сортировка по второму столбцу
echo -e "a\t3\nb\t1\nc\t2" | go run main.go -k 2 -n

# Уникальные строки
echo -e "a\nb\na\nc" | go run main.go -u

# Сортировка по месяцам
echo -e "Dec\nJan\nFeb" | go run main.go -M

# Проверка отсортированности
echo -e "a\nb\nc" | go run main.go -c

# Сортировка человекочитаемых размеров
echo -e "1G\n2M\n512K" | go run main.go -h
```

### Примеры работы

**Базовая сортировка:**
```bash
$ echo -e "zebra\napple\nbanana" | go run main.go
apple
banana
zebra
```

**Числовая сортировка:**
```bash
$ echo -e "10\n2\n1\n20" | go run main.go -n
1
2
10
20
```

**Сортировка по столбцам:**
```bash
$ echo -e "John\t25\nAlice\t30\nBob\t20" | go run main.go -k 2 -n
Bob	20
John	25
Alice	30
```

**Комбинация флагов (числовая + обратная + уникальные):**
```bash
$ echo -e "3\n1\n2\n1\n3" | go run main.go -n -r -u
3
2
1
```

**Сортировка по месяцам:**
```bash
$ echo -e "Dec\nJan\nFeb\nMar" | go run main.go -M
Jan
Feb
Mar
Dec
```

**Человекочитаемые размеры:**
```bash
$ echo -e "1G\n512M\n2K\n1M" | go run main.go -h
2K
1M
512M
1G
```

### Особенности реализации

1. **Эффективная обработка больших файлов** — использует буферизованное чтение
2. **Поддержка комбинаций флагов** — можно использовать несколько флагов одновременно
3. **Корректная обработка ошибок** — валидация входных данных и файлов
4. **Табуляция как разделитель** — для флага -k используется табуляция по умолчанию

### Тестирование

```bash
# Запуск всех тестов
go test -v

# Проверка статическим анализатором
go vet ./...
```
